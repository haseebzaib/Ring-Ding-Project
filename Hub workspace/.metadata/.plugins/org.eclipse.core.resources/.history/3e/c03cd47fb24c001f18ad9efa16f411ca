/* RTOS header files */

#include <ti/sysbios/BIOS.h>

#include <pthread.h>

#include <ioc.h>

#include "sys_ctrl.h"

#include "ti_drivers_config.h"

#include <inc/hw_ccfg.h>
#include <inc/hw_ccfg_simple_struct.h>

/* Header files required for the temporary idle task function */
#include <ti/drivers/Power.h>
#include <ti/drivers/power/PowerCC26XX.h>
#include <ti/drivers/GPIO.h>
#include <aon_rtc.h>
#include <prcm.h>
#include <ti/sysbios/BIOS.h>
#include <ti/sysbios/knl/Queue.h>
#include <ti/sysbios/knl/Semaphore.h>
#include <ti/sysbios/knl/Task.h>
#include <ti/sysbios/knl/Mailbox.h>
#include "Defines.h"
/* Header files required to enable instruction fetch cache */
#include <ti/drivers/dpl/HwiP.h>

#include "cpu.h"
#include "collector.h"

#include <string.h>


#include "control_task.h"
#include "console.h"
#include "embedded_cli.h"
#include "csf.h"



void onClearCLI(EmbeddedCli *cli, char *args, void *context) {
    cli_printf(cli, "\33[2J");
}

void onFormNWK(EmbeddedCli *cli, char *args, void *context)
{
    const char *network = "Form Network";
    const char *newLine = "\r\n";

    cli_printf(cli, network);

    Csf_CLI_formnetwork();
}

void onOpenNWK(EmbeddedCli *cli, char *args, void *context)
{
    const char *network = "Open Network";
    const char *newLine = "\r\n";


    cli_printf(cli, network);

    Csf_CLI_opennetwork();
}

void onCloseNWK(EmbeddedCli *cli, char *args, void *context)
{
    const char *network = "Close Network";
    const char *newLine = "\r\n";
    cli_printf(cli, network);
    Csf_CLI_closenetwork();
}

void allDevicesInNetwork(EmbeddedCli *cli, char *args, void *context)
{


    for( i=0; i<CONFIG_MAX_DEVICES*2; i++)
    {
        if(control_task_dev_info[i].structValid == 0xBEEF)
        {
            cli_printf(cli, "______________________________________");
            cli_printf(cli, "Dev Addr: %d",DevInfomail.dev_shortAddr );
            cli_printf(cli, "Dev signature: 0x%x",DevInfomail.dev_signature);
            if(DevInfomail.isWatch)
            {
                cli_printf(cli, "Watch");
            }
            else if(DevInfomail.isDing)
            {
                cli_printf(cli, "Ding");
            }
            else if(DevInfomail.isManager)
            {
                cli_printf(cli, "Manager");
            }



        }

    }


}

