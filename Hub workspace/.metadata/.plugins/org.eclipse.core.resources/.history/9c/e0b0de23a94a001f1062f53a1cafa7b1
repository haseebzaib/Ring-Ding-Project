/*
 * control_task.h
 *
 *  Created on: Jul 25, 2024
 *      Author: hzaib
 */

#ifndef APPLICATION_CONTROL_TASK_H_
#define APPLICATION_CONTROL_TASK_H_


#include <ti/sysbios/BIOS.h>
#include <ti/sysbios/knl/Queue.h>
#include <ti/sysbios/knl/Semaphore.h>
#include <ti/sysbios/knl/Task.h>
#include "ti_154stack_config.h"
#include "Defines.h"



typedef struct _control_task_devices_info {
    uint16_t dev_shortAddr;
    uint32_t dev_signature;
    uint8_t isWatch;
    uint8_t isDing;
    uint8_t isManager;
}control_task_devices_info;


control_task_devices_info control_task_watch_info[CONFIG_MAX_DEVICES];
control_task_devices_info control_task_ding_info[CONFIG_MAX_DEVICES];
control_task_devices_info control_task_manager_info[CONFIG_MAX_DEVICES];




/* These paired devices will only receive messages from one another */
typedef struct _control_task_devices_pairing {
   uint32_t Watch_Devsignature;
   uint32_t Ding_Devsignature;
   uint32_t Manager_Devsignature; /*if this 0xFFFFFFFF*/
}control_task_devices_pairing;



typedef struct _control_task_joinedDev_mail
{
    uint16_t shortAddr;
}control_task_joinedDev_mail;




extern status control_task_mail_post(uint16_t shortAdr);
extern void control_taskInit();


#endif /* APPLICATION_CONTROL_TASK_H_ */
